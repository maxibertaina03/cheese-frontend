{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\cheese-stock-system\\\\frontend\\\\src\\\\components\\\\Dashboard\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\n// src/components/Dashboard/Dashboard.tsx\nimport React, { useEffect, useState } from 'react';\nimport { LineChart, Line, BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport './Dashboard.css';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Dashboard = ({\n  user,\n  onVolver,\n  unidades = [],\n  historialUnidades = [],\n  productos = []\n}) => {\n  _s();\n  var _data$inventarioActua, _data$ventas, _data$topProductos;\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [periodo, setPeriodo] = useState('semana');\n  useEffect(() => {\n    fetchDashboard();\n  }, []);\n\n  // Dentro del componente, agreg√° esta funci√≥n:\n  const exportarExcel = () => {\n    // Datos del inventario actual\n    const datos = unidadesActivas.map((u, index) => {\n      var _u$producto;\n      return {\n        'N¬∞': index + 1,\n        'Producto': u.tipoQueso || ((_u$producto = u.producto) === null || _u$producto === void 0 ? void 0 : _u$producto.nombre),\n        'Peso (kg)': ((u.pesoTotal || u.pesoActual || 0) / 1000).toFixed(2),\n        'Estado': u.activa ? 'Activo' : 'Inactivo',\n        'Fecha Ingreso': u.fechaIngreso ? new Date(u.fechaIngreso).toLocaleDateString('es-AR') : '-'\n      };\n    });\n    const ws = XLSX.utils.json_to_sheet(datos);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, \"Inventario\");\n\n    // Ajustar anchos de columna\n    ws['!cols'] = [{\n      wch: 5\n    }, {\n      wch: 30\n    }, {\n      wch: 12\n    }, {\n      wch: 12\n    }, {\n      wch: 15\n    }];\n    const fecha = new Date().toISOString().split('T')[0];\n    XLSX.writeFile(wb, `Inventario_Quesos_${fecha}.xlsx`);\n  };\n  const fetchDashboard = async () => {\n    try {\n      const [dashboardRes, alertasRes] = await Promise.all([fetch(`${process.env.REACT_APP_API_URL}/api/reportes/dashboard`, {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      }), fetch(`${process.env.REACT_APP_API_URL}/api/alertas`, {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      })]);\n      const dashboardData = await dashboardRes.json();\n      const alertasData = await alertasRes.json();\n      console.log('Respuesta API dashboard:', dashboardData);\n      console.log('Props unidades:', unidades.length);\n      console.log('Props historial:', historialUnidades.length);\n      setData({\n        ...dashboardData,\n        alertas: alertasData\n      });\n    } catch (error) {\n      console.error('Error al cargar dashboard:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Cargando dashboard...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this);\n  }\n  if (!data) return null;\n  const COLORS = ['#f59e0b', '#10b981', '#3b82f6', '#ef4444', '#8b5cf6'];\n\n  // Usar datos de API si existen, sino calcular de props\n  const unidadesActivas = ((_data$inventarioActua = data.inventarioActual) === null || _data$inventarioActua === void 0 ? void 0 : _data$inventarioActua.length) > 0 ? data.inventarioActual : unidades.filter(u => u.activa).map(u => {\n    var _u$producto2;\n    return {\n      tipoQueso: ((_u$producto2 = u.producto) === null || _u$producto2 === void 0 ? void 0 : _u$producto2.nombre) || 'Desconocido',\n      cantidad: 1,\n      pesoTotal: u.pesoActual\n    };\n  });\n  const ventasDesdeApi = ((_data$ventas = data.ventas) === null || _data$ventas === void 0 ? void 0 : _data$ventas[periodo]) || [];\n\n  // Si no hay ventas en la API, calcular desde historial\n  const ventasPeriodo = ventasDesdeApi.length > 0 ? ventasDesdeApi : calcularVentasDesdeHistorial(historialUnidades, periodo);\n  const topProductos = ((_data$topProductos = data.topProductos) === null || _data$topProductos === void 0 ? void 0 : _data$topProductos.length) > 0 ? data.topProductos : calcularTopProductos(historialUnidades);\n  const inventarioValorizado = data.inventarioValorizado || [];\n  const alertas = data.alertas || [];\n\n  // Preparar datos para gr√°ficos\n  const ventasData = ventasPeriodo.map(v => ({\n    fecha: v.fecha ? new Date(v.fecha).toLocaleDateString('es-AR', {\n      day: '2-digit',\n      month: 'short'\n    }) : 'Sin fecha',\n    peso: (parseFloat(v.totalPeso || v.peso || 0) / 1000).toFixed(2),\n    cortes: parseInt(v.cantidadCortes || v.cortes || 0)\n  }));\n  const inventarioPorTipo = unidadesActivas.reduce((acc, inv) => {\n    var _inv$producto;\n    const tipo = inv.tipoQueso || ((_inv$producto = inv.producto) === null || _inv$producto === void 0 ? void 0 : _inv$producto.nombre) || 'Otros';\n    const existente = acc.find(item => item.name === tipo);\n    const peso = parseFloat(inv.pesoTotal || inv.pesoActual || 0) / 1000;\n    if (existente) {\n      existente.value += peso;\n    } else {\n      acc.push({\n        name: tipo,\n        value: peso\n      });\n    }\n    return acc;\n  }, []);\n\n  // Calcular KPIs\n  const totalUnidades = unidadesActivas.length;\n  const totalPeso = unidadesActivas.reduce((sum, inv) => sum + parseFloat(inv.pesoTotal || inv.pesoActual || 0), 0);\n  const valorTotal = inventarioValorizado.reduce((sum, inv) => sum + parseFloat(inv.valorTotal || 0), 0);\n  const totalCortes = ventasPeriodo.reduce((sum, v) => sum + parseInt(v.cantidadCortes || v.cortes || 0), 0);\n\n  // Funci√≥n auxiliar para calcular ventas desde historial\n  function calcularVentasDesdeHistorial(historial, periodo) {\n    const ahora = new Date();\n    const inicioPeriodo = new Date();\n    if (periodo === 'hoy') {\n      inicioPeriodo.setHours(0, 0, 0, 0);\n    } else if (periodo === 'semana') {\n      inicioPeriodo.setDate(ahora.getDate() - 7);\n    } else if (periodo === 'mes') {\n      inicioPeriodo.setDate(ahora.getDate() - 30);\n    }\n    const unidadesFiltradas = historial.filter(u => {\n      if (u.activa) return false;\n      const fecha = new Date(u.updatedAt || u.fechaEgreso);\n      return fecha >= inicioPeriodo;\n    });\n\n    // Agrupar por d√≠a\n    const porDia = {};\n    unidadesFiltradas.forEach(u => {\n      const fecha = new Date(u.updatedAt || u.fechaEgreso).toLocaleDateString('es-AR');\n      if (!porDia[fecha]) {\n        porDia[fecha] = {\n          fecha,\n          totalPeso: 0,\n          cantidadCortes: 0\n        };\n      }\n      porDia[fecha].totalPeso += parseFloat(u.pesoInicial || 0);\n      porDia[fecha].cantidadCortes += 1;\n    });\n    return Object.values(porDia);\n  }\n\n  // Funci√≥n auxiliar para top productos desde historial\n  function calcularTopProductos(historial) {\n    const productosMap = {};\n    historial.filter(u => !u.activa).forEach(u => {\n      var _u$producto3;\n      const nombre = ((_u$producto3 = u.producto) === null || _u$producto3 === void 0 ? void 0 : _u$producto3.nombre) || 'Desconocido';\n      if (!productosMap[nombre]) {\n        productosMap[nombre] = {\n          nombre,\n          totalVendido: 0,\n          cantidadCortes: 0\n        };\n      }\n      productosMap[nombre].totalVendido += parseFloat(u.pesoInicial || 0);\n      productosMap[nombre].cantidadCortes += 1;\n    });\n    return Object.values(productosMap).map(p => ({\n      ...p,\n      promedioCorte: p.totalVendido / p.cantidadCortes\n    })).sort((a, b) => b.totalVendido - a.totalVendido);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83D\\uDCCA Dashboard Anal\\xEDtico\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-back\",\n          onClick: onVolver,\n          style: {\n            marginTop: '0.5rem'\n          },\n          children: \"\\u2190 Volver al Inventario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"periodo-selector\",\n        children: ['hoy', 'semana', 'mes'].map(p => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: periodo === p ? 'active' : '',\n          onClick: () => setPeriodo(p),\n          children: p.charAt(0).toUpperCase() + p.slice(1)\n        }, p, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), alertas.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alertas-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\u26A0\\uFE0F Alertas Activas (\", alertas.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alertas-grid\",\n        children: alertas.slice(0, 3).map((alerta, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `alerta-card ${alerta.prioridad || 'baja'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alerta-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"alerta-tipo\",\n              children: alerta.tipo || 'Info'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"alerta-prioridad\",\n              children: alerta.prioridad || 'baja'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: alerta.mensaje\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this), alerta.detalles && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alerta-detalles\",\n            children: Object.entries(alerta.detalles).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [key, \": \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: String(value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 32\n              }, this)]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 19\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kpis-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kpi-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kpi-icon\",\n          children: \"\\uD83D\\uDCE6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kpi-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kpi-value\",\n            children: totalUnidades\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kpi-label\",\n            children: \"Unidades en Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kpi-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kpi-icon\",\n          children: \"\\u2696\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kpi-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kpi-value\",\n            children: [(totalPeso / 1000).toFixed(1), \" kg\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kpi-label\",\n            children: \"Peso Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kpi-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kpi-icon\",\n          children: \"\\uD83D\\uDCB0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kpi-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kpi-value\",\n            children: [\"$\", valorTotal.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kpi-label\",\n            children: \"Valor Inventario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kpi-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kpi-icon\",\n          children: \"\\u2702\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kpi-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kpi-value\",\n            children: totalCortes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kpi-label\",\n            children: [\"Cortes (\", periodo, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"charts-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Ventas en el Per\\xEDodo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 300,\n          children: /*#__PURE__*/_jsxDEV(LineChart, {\n            data: ventasData,\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"fecha\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n              yAxisId: \"left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n              yAxisId: \"right\",\n              orientation: \"right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Line, {\n              yAxisId: \"left\",\n              type: \"monotone\",\n              dataKey: \"peso\",\n              stroke: \"#f59e0b\",\n              name: \"Peso (kg)\",\n              strokeWidth: 2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Line, {\n              yAxisId: \"right\",\n              type: \"monotone\",\n              dataKey: \"cortes\",\n              stroke: \"#10b981\",\n              name: \"Cortes\",\n              strokeWidth: 2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Top 5 Productos Vendidos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 300,\n          children: /*#__PURE__*/_jsxDEV(BarChart, {\n            data: topProductos.slice(0, 5),\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"nombre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"totalVendido\",\n              fill: \"#f59e0b\",\n              name: \"Peso Vendido (g)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Inventario por Tipo de Queso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 300,\n          children: /*#__PURE__*/_jsxDEV(PieChart, {\n            children: [/*#__PURE__*/_jsxDEV(Pie, {\n              data: inventarioPorTipo,\n              cx: \"50%\",\n              cy: \"50%\",\n              labelLine: false,\n              label: ({\n                name,\n                value\n              }) => value > 0 ? `${name}: ${value.toFixed(1)}kg` : '',\n              outerRadius: 80,\n              fill: \"#8884d8\",\n              dataKey: \"value\",\n              children: inventarioPorTipo.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                fill: COLORS[index % COLORS.length]\n              }, `cell-${index}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Valor del Inventario por Producto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 300,\n          children: /*#__PURE__*/_jsxDEV(BarChart, {\n            data: inventarioValorizado,\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"producto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"valorTotal\",\n              fill: \"#10b981\",\n              name: \"Valor ($)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productos-table-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Detalle de Productos M\\xE1s Vendidos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"dashboard-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Producto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Vendido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Cantidad Cortes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Promedio por Corte\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: topProductos.map((prod, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: prod.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [(parseFloat(prod.totalVendido || 0) / 1000).toFixed(2), \" kg\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: prod.cantidadCortes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [parseFloat(prod.promedioCorte || 0).toFixed(0), \" g\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"export-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-export\",\n        onClick: () => window.open(`${process.env.REACT_APP_API_URL}/api/export/inventario/excel`, '_blank'),\n        children: \"\\uD83D\\uDCCA Exportar Inventario (Excel)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-export\",\n        onClick: () => window.open(`${process.env.REACT_APP_API_URL}/api/export/inventario/pdf`, '_blank'),\n        children: \"\\uD83D\\uDCC4 Exportar Inventario (PDF)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"aMECKxeG0s06I1HOA20cPgdIetk=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","LineChart","Line","BarChart","Bar","PieChart","Pie","Cell","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","XLSX","jsxDEV","_jsxDEV","Dashboard","user","onVolver","unidades","historialUnidades","productos","_s","_data$inventarioActua","_data$ventas","_data$topProductos","data","setData","loading","setLoading","periodo","setPeriodo","fetchDashboard","exportarExcel","datos","unidadesActivas","map","u","index","_u$producto","tipoQueso","producto","nombre","pesoTotal","pesoActual","toFixed","activa","fechaIngreso","Date","toLocaleDateString","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","wch","fecha","toISOString","split","writeFile","dashboardRes","alertasRes","Promise","all","fetch","process","env","REACT_APP_API_URL","headers","Authorization","token","dashboardData","json","alertasData","console","log","length","alertas","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","COLORS","inventarioActual","filter","_u$producto2","cantidad","ventasDesdeApi","ventas","ventasPeriodo","calcularVentasDesdeHistorial","topProductos","calcularTopProductos","inventarioValorizado","ventasData","v","day","month","peso","parseFloat","totalPeso","cortes","parseInt","cantidadCortes","inventarioPorTipo","reduce","acc","inv","_inv$producto","tipo","existente","find","item","name","value","push","totalUnidades","sum","valorTotal","totalCortes","historial","ahora","inicioPeriodo","setHours","setDate","getDate","unidadesFiltradas","updatedAt","fechaEgreso","porDia","forEach","pesoInicial","Object","values","productosMap","_u$producto3","totalVendido","p","promedioCorte","sort","a","b","onClick","style","marginTop","charAt","toUpperCase","slice","alerta","idx","prioridad","mensaje","detalles","entries","key","String","width","height","strokeDasharray","dataKey","yAxisId","orientation","type","stroke","strokeWidth","fill","cx","cy","labelLine","label","outerRadius","entry","prod","window","open","_c","$RefreshReg$"],"sources":["C:/Users/Usuario/Desktop/cheese-stock-system/frontend/src/components/Dashboard/Dashboard.tsx"],"sourcesContent":["// src/components/Dashboard/Dashboard.tsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport {\r\n  LineChart, Line, BarChart, Bar, PieChart, Pie, Cell,\r\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer\r\n} from 'recharts';\r\nimport { User } from '../../types';\r\nimport './Dashboard.css';\r\nimport * as XLSX from 'xlsx';\r\n\r\ninterface DashboardProps {\r\n  user: User;\r\n  onVolver: () => void;\r\n  unidades?: any[];\r\n  historialUnidades?: any[];\r\n  productos?: any[];\r\n}\r\n\r\ninterface DashboardData {\r\n  inventarioActual: any[];\r\n  ventas: {\r\n    hoy: any[];\r\n    semana: any[];\r\n    mes: any[];\r\n  };\r\n  topProductos: any[];\r\n  inventarioValorizado: any[];\r\n  alertas: any[];\r\n}\r\n\r\nexport const Dashboard: React.FC<DashboardProps> = ({ \r\n  user, \r\n  onVolver,\r\n  unidades = [],\r\n  historialUnidades = [],\r\n  productos = []\r\n}) => {\r\n  const [data, setData] = useState<DashboardData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [periodo, setPeriodo] = useState<'hoy' | 'semana' | 'mes'>('semana');\r\n\r\n  useEffect(() => {\r\n    fetchDashboard();\r\n  }, []);\r\n\r\n\r\n    // Dentro del componente, agreg√° esta funci√≥n:\r\n  const exportarExcel = () => {\r\n    // Datos del inventario actual\r\n    const datos = unidadesActivas.map((u, index) => ({\r\n      'N¬∞': index + 1,\r\n      'Producto': u.tipoQueso || u.producto?.nombre,\r\n      'Peso (kg)': ((u.pesoTotal || u.pesoActual || 0) / 1000).toFixed(2),\r\n      'Estado': u.activa ? 'Activo' : 'Inactivo',\r\n      'Fecha Ingreso': u.fechaIngreso ? new Date(u.fechaIngreso).toLocaleDateString('es-AR') : '-'\r\n    }));\r\n\r\n    const ws = XLSX.utils.json_to_sheet(datos);\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Inventario\");\r\n    \r\n    // Ajustar anchos de columna\r\n    ws['!cols'] = [{wch:5}, {wch:30}, {wch:12}, {wch:12}, {wch:15}];\r\n    \r\n    const fecha = new Date().toISOString().split('T')[0];\r\n    XLSX.writeFile(wb, `Inventario_Quesos_${fecha}.xlsx`);\r\n  };\r\n\r\n  const fetchDashboard = async () => {\r\n    try {\r\n      const [dashboardRes, alertasRes] = await Promise.all([\r\n        fetch(`${process.env.REACT_APP_API_URL}/api/reportes/dashboard`, {\r\n          headers: { Authorization: `Bearer ${user.token}` }\r\n        }),\r\n        fetch(`${process.env.REACT_APP_API_URL}/api/alertas`, {\r\n          headers: { Authorization: `Bearer ${user.token}` }\r\n        })\r\n      ]);\r\n\r\n      const dashboardData = await dashboardRes.json();\r\n      const alertasData = await alertasRes.json();\r\n\r\n      console.log('Respuesta API dashboard:', dashboardData);\r\n      console.log('Props unidades:', unidades.length);\r\n      console.log('Props historial:', historialUnidades.length);\r\n\r\n      setData({\r\n        ...dashboardData,\r\n        alertas: alertasData\r\n      });\r\n    } catch (error) {\r\n      console.error('Error al cargar dashboard:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"dashboard-loading\">\r\n        <div className=\"spinner\"></div>\r\n        <p>Cargando dashboard...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!data) return null;\r\n\r\n  const COLORS = ['#f59e0b', '#10b981', '#3b82f6', '#ef4444', '#8b5cf6'];\r\n\r\n  // Usar datos de API si existen, sino calcular de props\r\n  const unidadesActivas = data.inventarioActual?.length > 0 \r\n    ? data.inventarioActual \r\n    : unidades.filter(u => u.activa).map(u => ({\r\n        tipoQueso: u.producto?.nombre || 'Desconocido',\r\n        cantidad: 1,\r\n        pesoTotal: u.pesoActual\r\n      }));\r\n\r\n  const ventasDesdeApi = data.ventas?.[periodo] || [];\r\n  \r\n  // Si no hay ventas en la API, calcular desde historial\r\n  const ventasPeriodo = ventasDesdeApi.length > 0 \r\n    ? ventasDesdeApi \r\n    : calcularVentasDesdeHistorial(historialUnidades, periodo);\r\n\r\n  const topProductos = data.topProductos?.length > 0 \r\n    ? data.topProductos \r\n    : calcularTopProductos(historialUnidades);\r\n\r\n  const inventarioValorizado = data.inventarioValorizado || [];\r\n  const alertas = data.alertas || [];\r\n\r\n  // Preparar datos para gr√°ficos\r\n  const ventasData = ventasPeriodo.map(v => ({\r\n    fecha: v.fecha ? new Date(v.fecha).toLocaleDateString('es-AR', { \r\n      day: '2-digit', \r\n      month: 'short' \r\n    }) : 'Sin fecha',\r\n    peso: (parseFloat(v.totalPeso || v.peso || 0) / 1000).toFixed(2),\r\n    cortes: parseInt(v.cantidadCortes || v.cortes || 0)\r\n  }));\r\n\r\n  const inventarioPorTipo = unidadesActivas.reduce((acc: any[], inv) => {\r\n    const tipo = inv.tipoQueso || inv.producto?.nombre || 'Otros';\r\n    const existente = acc.find(item => item.name === tipo);\r\n    const peso = parseFloat(inv.pesoTotal || inv.pesoActual || 0) / 1000;\r\n    \r\n    if (existente) {\r\n      existente.value += peso;\r\n    } else {\r\n      acc.push({ name: tipo, value: peso });\r\n    }\r\n    return acc;\r\n  }, []);\r\n\r\n  // Calcular KPIs\r\n  const totalUnidades = unidadesActivas.length;\r\n  \r\n  const totalPeso = unidadesActivas.reduce((sum, inv) => \r\n    sum + (parseFloat(inv.pesoTotal || inv.pesoActual || 0)), 0\r\n  );\r\n  \r\n  const valorTotal = inventarioValorizado.reduce((sum, inv) => \r\n    sum + (parseFloat(inv.valorTotal || 0)), 0 \r\n  );\r\n  \r\n  const totalCortes = ventasPeriodo.reduce((sum, v) => \r\n    sum + (parseInt(v.cantidadCortes || v.cortes || 0)), 0\r\n  );\r\n\r\n  // Funci√≥n auxiliar para calcular ventas desde historial\r\n  function calcularVentasDesdeHistorial(historial: any[], periodo: string) {\r\n    const ahora = new Date();\r\n    const inicioPeriodo = new Date();\r\n    \r\n    if (periodo === 'hoy') {\r\n      inicioPeriodo.setHours(0, 0, 0, 0);\r\n    } else if (periodo === 'semana') {\r\n      inicioPeriodo.setDate(ahora.getDate() - 7);\r\n    } else if (periodo === 'mes') {\r\n      inicioPeriodo.setDate(ahora.getDate() - 30);\r\n    }\r\n\r\n    const unidadesFiltradas = historial.filter(u => {\r\n      if (u.activa) return false;\r\n      const fecha = new Date(u.updatedAt || u.fechaEgreso);\r\n      return fecha >= inicioPeriodo;\r\n    });\r\n\r\n    // Agrupar por d√≠a\r\n    const porDia: { [key: string]: { fecha: string, totalPeso: number, cantidadCortes: number } } = {};\r\n    \r\n    unidadesFiltradas.forEach(u => {\r\n      const fecha = new Date(u.updatedAt || u.fechaEgreso).toLocaleDateString('es-AR');\r\n      if (!porDia[fecha]) {\r\n        porDia[fecha] = { fecha, totalPeso: 0, cantidadCortes: 0 };\r\n      }\r\n      porDia[fecha].totalPeso += parseFloat(u.pesoInicial || 0);\r\n      porDia[fecha].cantidadCortes += 1;\r\n    });\r\n\r\n    return Object.values(porDia);\r\n  }\r\n\r\n  // Funci√≥n auxiliar para top productos desde historial\r\n  function calcularTopProductos(historial: any[]) {\r\n    const productosMap: { [key: string]: any } = {};\r\n    \r\n    historial\r\n      .filter(u => !u.activa)\r\n      .forEach(u => {\r\n        const nombre = u.producto?.nombre || 'Desconocido';\r\n        if (!productosMap[nombre]) {\r\n          productosMap[nombre] = {\r\n            nombre,\r\n            totalVendido: 0,\r\n            cantidadCortes: 0\r\n          };\r\n        }\r\n        productosMap[nombre].totalVendido += parseFloat(u.pesoInicial || 0);\r\n        productosMap[nombre].cantidadCortes += 1;\r\n      });\r\n\r\n    return Object.values(productosMap)\r\n      .map((p: any) => ({\r\n        ...p,\r\n        promedioCorte: p.totalVendido / p.cantidadCortes\r\n      }))\r\n      .sort((a: any, b: any) => b.totalVendido - a.totalVendido);\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      {/* Header */}\r\n      <div className=\"dashboard-header\">\r\n        <div>\r\n          <h1>üìä Dashboard Anal√≠tico</h1>\r\n          <button \r\n            className=\"btn-back\" \r\n            onClick={onVolver}\r\n            style={{ marginTop: '0.5rem' }}\r\n          >\r\n            ‚Üê Volver al Inventario\r\n          </button>\r\n        </div>\r\n        <div className=\"periodo-selector\">\r\n          {['hoy', 'semana', 'mes'].map((p) => (\r\n            <button \r\n              key={p}\r\n              className={periodo === p ? 'active' : ''}\r\n              onClick={() => setPeriodo(p as any)}\r\n            >\r\n              {p.charAt(0).toUpperCase() + p.slice(1)}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Alertas */}\r\n      {alertas.length > 0 && (\r\n        <div className=\"alertas-section\">\r\n          <h3>‚ö†Ô∏è Alertas Activas ({alertas.length})</h3>\r\n          <div className=\"alertas-grid\">\r\n            {alertas.slice(0, 3).map((alerta, idx) => (\r\n              <div \r\n                key={idx} \r\n                className={`alerta-card ${alerta.prioridad || 'baja'}`}\r\n              >\r\n                <div className=\"alerta-header\">\r\n                  <span className=\"alerta-tipo\">{alerta.tipo || 'Info'}</span>\r\n                  <span className=\"alerta-prioridad\">{alerta.prioridad || 'baja'}</span>\r\n                </div>\r\n                <p>{alerta.mensaje}</p>\r\n                {alerta.detalles && (\r\n                  <div className=\"alerta-detalles\">\r\n                    {Object.entries(alerta.detalles).map(([key, value]) => (\r\n                      <span key={key}>\r\n                        {key}: <strong>{String(value)}</strong>\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* KPIs */}\r\n      <div className=\"kpis-grid\">\r\n        <div className=\"kpi-card\">\r\n          <div className=\"kpi-icon\">üì¶</div>\r\n          <div className=\"kpi-content\">\r\n            <div className=\"kpi-value\">{totalUnidades}</div>\r\n            <div className=\"kpi-label\">Unidades en Stock</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"kpi-card\">\r\n          <div className=\"kpi-icon\">‚öñÔ∏è</div>\r\n          <div className=\"kpi-content\">\r\n            <div className=\"kpi-value\">{(totalPeso / 1000).toFixed(1)} kg</div>\r\n            <div className=\"kpi-label\">Peso Total</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"kpi-card\">\r\n          <div className=\"kpi-icon\">üí∞</div>\r\n          <div className=\"kpi-content\">\r\n            <div className=\"kpi-value\">${valorTotal.toFixed(2)}</div>\r\n            <div className=\"kpi-label\">Valor Inventario</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"kpi-card\">\r\n          <div className=\"kpi-icon\">‚úÇÔ∏è</div>\r\n          <div className=\"kpi-content\">\r\n            <div className=\"kpi-value\">{totalCortes}</div>\r\n            <div className=\"kpi-label\">Cortes ({periodo})</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Gr√°ficos */}\r\n      <div className=\"charts-grid\">\r\n        {/* Ventas por d√≠a */}\r\n        <div className=\"chart-card\">\r\n          <h3>Ventas en el Per√≠odo</h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <LineChart data={ventasData}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"fecha\" />\r\n              <YAxis yAxisId=\"left\" />\r\n              <YAxis yAxisId=\"right\" orientation=\"right\" />\r\n              <Tooltip />\r\n              <Legend />\r\n              <Line \r\n                yAxisId=\"left\"\r\n                type=\"monotone\" \r\n                dataKey=\"peso\" \r\n                stroke=\"#f59e0b\" \r\n                name=\"Peso (kg)\"\r\n                strokeWidth={2}\r\n              />\r\n              <Line \r\n                yAxisId=\"right\"\r\n                type=\"monotone\" \r\n                dataKey=\"cortes\" \r\n                stroke=\"#10b981\" \r\n                name=\"Cortes\"\r\n                strokeWidth={2}\r\n              />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Top productos */}\r\n        <div className=\"chart-card\">\r\n          <h3>Top 5 Productos Vendidos</h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <BarChart data={topProductos.slice(0, 5)}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"nombre\" />\r\n              <YAxis />\r\n              <Tooltip />\r\n              <Legend />\r\n              <Bar dataKey=\"totalVendido\" fill=\"#f59e0b\" name=\"Peso Vendido (g)\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Inventario por tipo */}\r\n        <div className=\"chart-card\">\r\n          <h3>Inventario por Tipo de Queso</h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <PieChart>\r\n              <Pie\r\n                data={inventarioPorTipo}\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                labelLine={false}\r\n                label={({ name, value }) => value > 0 ? `${name}: ${value.toFixed(1)}kg` : ''}\r\n                outerRadius={80}\r\n                fill=\"#8884d8\"\r\n                dataKey=\"value\"\r\n              >\r\n                {inventarioPorTipo.map((entry, index) => (\r\n                  <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Inventario valorizado */}\r\n        <div className=\"chart-card\">\r\n          <h3>Valor del Inventario por Producto</h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <BarChart data={inventarioValorizado}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"producto\" />\r\n              <YAxis />\r\n              <Tooltip />\r\n              <Legend />\r\n              <Bar dataKey=\"valorTotal\" fill=\"#10b981\" name=\"Valor ($)\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabla de productos */}\r\n      <div className=\"productos-table-card\">\r\n        <h3>Detalle de Productos M√°s Vendidos</h3>\r\n        <table className=\"dashboard-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Producto</th>\r\n              <th>Total Vendido</th>\r\n              <th>Cantidad Cortes</th>\r\n              <th>Promedio por Corte</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {topProductos.map((prod, idx) => (\r\n              <tr key={idx}>\r\n                <td>{prod.nombre}</td>\r\n                <td>{(parseFloat(prod.totalVendido || 0) / 1000).toFixed(2)} kg</td>\r\n                <td>{prod.cantidadCortes}</td>\r\n                <td>{(parseFloat(prod.promedioCorte || 0)).toFixed(0)} g</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Botones de exportaci√≥n */}\r\n      <div className=\"export-buttons\">\r\n        <button \r\n          className=\"btn-export\"\r\n          onClick={() => window.open(\r\n            `${process.env.REACT_APP_API_URL}/api/export/inventario/excel`,\r\n            '_blank'\r\n          )}\r\n        >\r\n          üìä Exportar Inventario (Excel)\r\n        </button>\r\n        <button \r\n          className=\"btn-export\"\r\n          onClick={() => window.open(\r\n            `${process.env.REACT_APP_API_URL}/api/export/inventario/pdf`,\r\n            '_blank'\r\n          )}\r\n        >\r\n          üìÑ Exportar Inventario (PDF)\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}